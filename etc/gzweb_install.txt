# vim: set syntax=sh:

# BUILDING:
# according to instructions from:
# http://gazebosim.org/gzweb.html
# accessed on 3 Feb 2021

# install latest gazebo version with ros-${ROS_DISTRO}-desktop-full
# install dependencies:
sudo apt install libjansson-dev libboost-dev imagemagick libtinyxml-dev mercurial cmake build-essential

# according to instructions from:
# https://github.com/nvm-sh/nvm
# accessed on 3 Feb 2021
# install nvm:
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash
# install/update and use appropriate version
sudo apt remove npm
nvm install node
nvm use 8

# build gzweb:
cd ~; git clone https://github.com/osrf/gzweb
cd gzweb; git checkout gzweb_1.4.1
source /usr/share/gazebo/setup.sh
npm run deploy --- -m

# RUNNING:
# start a gzserver
gzserver

# and gzweb on the host computer:
cd ~/gzweb; nvm use 8; npm start

# on a browser on any machine in the network open:
http://<host-computer-ip>:8080
